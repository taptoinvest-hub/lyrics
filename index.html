<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shia Lyrics App</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<style>
    /* --- Basic Reset & Fonts --- */
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body { background: linear-gradient(135deg, #1a1a2e, #162447); color:#fff; min-height:100vh; display:flex; justify-content:center; padding:20px;}
    a {color:inherit; text-decoration:none;}
    button {cursor:pointer;}

    /* --- Container --- */
    .container { width:100%; max-width:1200px; }

    /* --- Header --- */
    header { display:flex; flex-direction:column; align-items:center; margin-bottom:20px; }
    .logo { font-size:2.5rem; font-weight:bold; margin-bottom:5px; color:#ff6b6b; }
    .search-bar { width:100%; max-width:500px; display:flex; margin-bottom:15px; }
    .search-bar input { flex:1; padding:10px 15px; border-radius:25px 0 0 25px; border:none; font-size:1rem; outline:none; }
    .search-bar button { padding:10px 15px; border:none; background:#ff6b6b; border-radius:0 25px 25px 0; color:white; font-size:1rem; }

    /* --- Categories --- */
    .categories { display:flex; justify-content:center; gap:10px; margin-bottom:20px; flex-wrap:wrap; }
    .categories button { padding:10px 20px; border:none; border-radius:25px; background:rgba(255,255,255,0.2); color:#fff; transition:0.3s; }
    .categories button.active, .categories button:hover { background:#ff6b6b; }

    /* --- Lyrics Grid --- */
    .lyrics-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:15px; }
    .lyrics-card { background: rgba(255,255,255,0.05); border-radius:15px; padding:20px; position:relative; transition:0.3s; cursor:pointer; }
    .lyrics-card:hover { transform:translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,0.5);}
    .lyrics-title { font-weight:bold; font-size:1.2rem; margin-bottom:10px; color:#ffd166; }
    .lyrics-snippet { font-size:0.95rem; line-height:1.4; color:#fff9; margin-bottom:10px; }
    .lyrics-meta { font-size:0.8rem; color:#aaa; display:flex; justify-content:space-between; }

    /* --- Modal --- */
    .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); align-items:center; justify-content:center; z-index:1000; padding:15px; }
    .modal-content { background:#1f1f2e; padding:30px; border-radius:20px; max-width:600px; width:100%; position:relative; max-height:90vh; overflow-y:auto; }
    .modal-content h2 { margin-bottom:15px; color:#ff6b6b; }
    .modal-content p { margin-bottom:10px; line-height:1.5; }
    .modal-content .meta { font-size:0.85rem; color:#aaa; margin-bottom:15px; }
    .modal-close { position:absolute; top:15px; right:15px; background:#ff6b6b; border:none; color:white; width:30px; height:30px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:1rem; }

    /* --- Favorites --- */
    .favorites-section { margin-top:30px; }
    .favorites-section h3 { margin-bottom:15px; color:#ffd166; }

    /* --- Responsive --- */
    @media(max-width:768px){ .search-bar{ flex-direction:column; } .search-bar input{ border-radius:25px 25px 0 0; margin-bottom:5px;} .search-bar button{ border-radius:0 0 25px 25px;} }
</style>
</head>
<body>
<div class="container">
    <!-- Header -->
    <header>
        <div class="logo">Shia Lyrics</div>
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search by title, reciter, or tag...">
            <button onclick="searchLyrics()">Search</button>
        </div>
        <div class="categories">
            <button class="active" onclick="filterCategory('all', this)">All</button>
            <button onclick="filterCategory('nauha', this)">Nauha</button>
            <button onclick="filterCategory('marsiya', this)">Marsiya</button>
            <button onclick="filterCategory('manqabat', this)">Manqabat</button>
        </div>
    </header>

    <!-- Lyrics Grid -->
    <div class="lyrics-grid" id="lyricsGrid"></div>

    <!-- Favorites -->
    <div class="favorites-section">
        <h3>Favorites</h3>
        <div class="lyrics-grid" id="favoritesGrid"></div>
    </div>
</div>

<!-- Modal -->
<div class="modal" id="lyricsModal">
    <div class="modal-content">
        <button class="modal-close" onclick="closeModal()"><i class="fas fa-times"></i></button>
        <h2 id="modalTitle"></h2>
        <div class="meta" id="modalMeta"></div>
        <p id="modalLyrics"></p>
        <button onclick="toggleFavorite()" style="padding:10px 20px; border:none; border-radius:25px; background:#ff6b6b; color:#fff; margin-top:10px;">❤️ Add/Remove Favorite</button>
    </div>
</div>

<script>
    // Sample Lyrics Data
    const lyricsData = [
        {id:1, title:"Nauha 1", reciter:"Nadeem Sarwar", category:"nauha", tags:["karbala","ashura"], year:"2020", lyrics:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},
        {id:2, title:"Marsiya 1", reciter:"Ali Raza", category:"marsiya", tags:["hussain","shia"], year:"2019", lyrics:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."},
        {id:3, title:"Manqabat 1", reciter:"Farhan Ali", category:"manqabat", tags:["ali","imam"], year:"2021", lyrics:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."},
        {id:4, title:"Nauha 2", reciter:"Ahmed Abbas", category:"nauha", tags:["karbala","azadari"], year:"2018", lyrics:"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}
    ];

    let currentCategory = 'all';
    let currentFavorites = JSON.parse(localStorage.getItem('favorites')) || [];
    let currentModalId = null;

    function displayLyrics(data){
        const grid = document.getElementById('lyricsGrid');
        grid.innerHTML = '';
        data.forEach(item=>{
            const card = document.createElement('div');
            card.className = 'lyrics-card';
            card.innerHTML = `<div class="lyrics-title">${item.title}</div>
                              <div class="lyrics-snippet">${item.lyrics.substring(0, Math.floor(item.lyrics.length*0.3))}...</div>
                              <div class="lyrics-meta">Reciter: ${item.reciter} | Year: ${item.year}</div>`;
            card.onclick = ()=>openModal(item.id);
            grid.appendChild(card);
        });
        displayFavorites();
    }

    function filterCategory(cat, btn){
        currentCategory = cat;
        document.querySelectorAll('.categories button').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const filtered = cat==='all' ? lyricsData : lyricsData.filter(l=>l.category===cat);
        displayLyrics(filtered);
    }

    function searchLyrics(){
        const query = document.getElementById('searchInput').value.toLowerCase();
        const filtered = lyricsData.filter(l=>l.title.toLowerCase().includes(query) || l.reciter.toLowerCase().includes(query) || l.tags.join(' ').toLowerCase().includes(query));
        displayLyrics(filtered);
    }

    function openModal(id){
        currentModalId = id;
        const item = lyricsData.find(l=>l.id===id);
        document.getElementById('modalTitle').textContent = item.title;
        document.getElementById('modalMeta').textContent = `Reciter: ${item.reciter} | Year: ${item.year} | Category: ${item.category}`;
        document.getElementById('modalLyrics').textContent = item.lyrics;
        document.getElementById('lyricsModal').style.display = 'flex';
    }

    function closeModal(){
        document.getElementById('lyricsModal').style.display = 'none';
    }

    function toggleFavorite(){
        if(!currentModalId) return;
        const index = currentFavorites.indexOf(currentModalId);
        if(index>=0){ currentFavorites.splice(index,1); } else { currentFavorites.push(currentModalId); }
        localStorage.setItem('favorites', JSON.stringify(currentFavorites));
        displayFavorites();
    }

    function displayFavorites(){
        const favGrid = document.getElementById('favoritesGrid');
        favGrid.innerHTML = '';
        currentFavorites.forEach(id=>{
            const item = lyricsData.find(l=>l.id===id);
            if(item){
                const card = document.createElement('div');
                card.className='lyrics-card';
                card.innerHTML = `<div class="lyrics-title">${item.title}</div>
                                  <div class="lyrics-snippet">${item.lyrics.substring(0, Math.floor(item.lyrics.length*0.3))}...</div>
                                  <div class="lyrics-meta">Reciter: ${item.reciter}</div>`;
                card.onclick = ()=>openModal(item.id);
                favGrid.appendChild(card);
            }
        });
    }

    // Initialize
    displayLyrics(lyricsData);
</script>
</body>
</html>
