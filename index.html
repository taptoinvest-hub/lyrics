<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shia Lyrics App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap');
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Montserrat', sans-serif; 
        }
        
        body { 
            background: linear-gradient(135deg, #1e1f29, #3b3c5a); 
            color: #fff; 
            min-height: 100vh; 
            padding-bottom: 60px;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 50px 20px 30px 20px;
            background: rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(249,202,36,0.1)"/></svg>');
            background-size: cover;
            z-index: -1;
        }
        
        .hero h1 { 
            font-size: 3rem; 
            margin-bottom: 10px; 
            color: #f9ca24; 
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        .hero p { 
            font-size: 1.2rem; 
            margin-bottom: 20px; 
            color: #dcdde1; 
        }
        
        .search-bar {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .search-bar input {
            width: 60%;
            padding: 12px 20px;
            border-radius: 25px;
            border: none;
            outline: none;
            font-size: 1rem;
            background: rgba(255,255,255,0.9);
            transition: all 0.3s;
        }
        
        .search-bar input:focus {
            box-shadow: 0 0 0 2px #f9ca24;
            background: white;
        }
        
        .search-bar button {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            background: #f9ca24;
            color: #1e1f29;
            cursor: pointer;
            transition: 0.3s;
            font-weight: 600;
        }
        
        .search-bar button:hover { 
            background: #f39c12; 
            transform: translateY(-2px);
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(255,255,255,0.05);
            padding: 15px 20px;
            border-radius: 15px;
            min-width: 120px;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #f9ca24;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #dcdde1;
        }

        /* Category Tabs */
        .categories {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .category-btn {
            padding: 10px 20px;
            border-radius: 25px;
            border: none;
            cursor: pointer;
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-weight: 600;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .category-btn.active, .category-btn:hover { 
            background: #f9ca24; 
            color: #1e1f29; 
        }

        /* Lyrics Grid */
        .lyrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            padding: 0 20px 50px 20px;
        }
        
        .lyrics-card {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(8px);
            border-radius: 20px;
            padding: 20px;
            cursor: pointer;
            transition: 0.3s;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .lyrics-card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); 
            background: rgba(255,255,255,0.08);
        }
        
        .lyrics-title { 
            font-weight: 600; 
            font-size: 1.1rem; 
            margin-bottom: 8px; 
            color: #f5f6fa; 
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .favorite-icon {
            color: #dcdde1;
            transition: 0.3s;
            font-size: 1.2rem;
        }
        
        .favorite-icon.active {
            color: #f9ca24;
        }
        
        .lyrics-snippet { 
            font-size: 0.9rem; 
            color: #dcdde1; 
            margin-bottom: 10px; 
            line-height: 1.4; 
        }
        
        .lyrics-meta { 
            font-size: 0.8rem; 
            color: #f9ca24; 
            display: flex; 
            justify-content: space-between; 
        }
        
        .lyrics-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }
        
        .tag {
            background: rgba(249, 202, 36, 0.2);
            color: #f9ca24;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
        }

        /* Modal */
        .modal { 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.7); 
            backdrop-filter: blur(3px); 
            justify-content: center; 
            align-items: center; 
            z-index: 1000; 
        }
        
        .modal-content { 
            background: #2f3640; 
            padding: 30px; 
            border-radius: 20px; 
            max-width: 700px; 
            width: 90%; 
            max-height: 80vh; 
            overflow-y: auto; 
            position: relative; 
            box-shadow: 0 15px 40px rgba(0,0,0,0.5);
        }
        
        .modal-content h2 { 
            margin-bottom: 10px; 
            color: #f9ca24; 
            padding-right: 40px;
        }
        
        .modal-content p { 
            margin-bottom: 10px; 
            color: #f5f6fa; 
            line-height: 1.5; 
        }
        
        .modal-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .modal-meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
            color: #dcdde1;
        }
        
        .modal-meta-item i {
            color: #f9ca24;
        }
        
        .close-modal { 
            position: absolute; 
            top: 15px; 
            right: 20px; 
            background: #e84118; 
            border: none; 
            border-radius: 50%; 
            width: 35px; 
            height: 35px; 
            color: #fff; 
            font-size: 1.2rem; 
            cursor: pointer; 
            display: flex;
            justify-content: center;
            align-items: center;
            transition: 0.3s;
        }
        
        .close-modal:hover {
            background: #c23616;
            transform: rotate(90deg);
        }
        
        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            background: rgba(255,255,255,0.1);
            color: #fff;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .action-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .fav-btn { 
            padding: 8px 15px; 
            border: none; 
            border-radius: 25px; 
            background: #f9ca24; 
            color: #1e1f29; 
            cursor: pointer; 
            font-weight: 600; 
            transition: 0.3s; 
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .fav-btn:hover { 
            background: #f39c12; 
        }

        /* Footer */
        footer { 
            text-align: center; 
            padding: 20px; 
            background: rgba(0,0,0,0.2); 
            color: #f5f6fa; 
            position: fixed;
            bottom: 0;
            width: 100%;
        }
        
        /* Loading Animation */
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .spinner {
            border: 4px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 4px solid #f9ca24;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: #2f3640;
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 1001;
            display: none;
            align-items: center;
            gap: 10px;
        }
        
        .toast.show {
            display: flex;
            animation: fadeInOut 3s ease-in-out;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; bottom: 50px; }
            20% { opacity: 1; bottom: 80px; }
            80% { opacity: 1; bottom: 80px; }
            100% { opacity: 0; bottom: 50px; }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.2rem; }
            .search-bar input { width: 70%; }
            .lyrics-grid { grid-template-columns: 1fr; }
            .stats-bar { gap: 15px; }
            .stat-item { min-width: 100px; padding: 10px 15px; }
            .modal-content { padding: 20px; }
        }
    </style>
</head>
<body>

<!-- Hero -->
<div class="hero">
    <h1>Shia Lyrics App</h1>
    <p>Find Nauha, Marsiya, Manqabat lyrics instantly</p>
    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search lyrics, reciter, or tags...">
        <button onclick="searchLyrics()"><i class="fas fa-search"></i> Search</button>
    </div>
</div>

<!-- Stats Bar -->
<div class="stats-bar">
    <div class="stat-item">
        <div class="stat-value" id="totalLyrics">0</div>
        <div class="stat-label">Total Lyrics</div>
    </div>
    <div class="stat-item">
        <div class="stat-value" id="favoritesCount">0</div>
        <div class="stat-label">Favorites</div>
    </div>
    <div class="stat-item">
        <div class="stat-value" id="nauhaCount">0</div>
        <div class="stat-label">Nauhas</div>
    </div>
    <div class="stat-item">
        <div class="stat-value" id="marsiyaCount">0</div>
        <div class="stat-label">Marsiyas</div>
    </div>
</div>

<!-- Categories -->
<div class="categories">
    <button class="category-btn active" onclick="filterCategory('all')">
        <i class="fas fa-layer-group"></i> All
    </button>
    <button class="category-btn" onclick="filterCategory('nauha')">
        <i class="fas fa-music"></i> Nauha
    </button>
    <button class="category-btn" onclick="filterCategory('marsiya')">
        <i class="fas fa-book"></i> Marsiya
    </button>
    <button class="category-btn" onclick="filterCategory('manqabat')">
        <i class="fas fa-star"></i> Manqabat
    </button>
    <button class="category-btn" onclick="filterCategory('favorites')">
        <i class="fas fa-heart"></i> Favorites
    </button>
</div>

<!-- Loading -->
<div class="loading" id="loadingIndicator">
    <div class="spinner"></div>
    <p>Loading lyrics...</p>
</div>

<!-- Lyrics Grid -->
<div class="lyrics-grid" id="lyricsGrid">
    <!-- Cards dynamically generated here -->
</div>

<!-- Modal -->
<div class="modal" id="lyricsModal">
    <div class="modal-content" id="modalContent">
        <button class="close-modal" onclick="closeModal()">&times;</button>
        <h2 id="modalTitle">Lyrics Title</h2>
        
        <div class="modal-meta">
            <div class="modal-meta-item">
                <i class="fas fa-user"></i>
                <span id="modalReciter">Reciter Name</span>
            </div>
            <div class="modal-meta-item">
                <i class="fas fa-tag"></i>
                <span id="modalType">Type</span>
            </div>
            <div class="modal-meta-item">
                <i class="fas fa-calendar"></i>
                <span id="modalDate">Date</span>
            </div>
        </div>
        
        <div class="lyrics-tags" id="modalTags">
            <!-- Tags will be inserted here -->
        </div>
        
        <p id="modalLyrics">Full lyrics...</p>
        
        <div class="modal-actions">
            <button class="action-btn" onclick="copyLyrics()">
                <i class="fas fa-copy"></i> Copy
            </button>
            <button class="action-btn" onclick="shareLyrics()">
                <i class="fas fa-share"></i> Share
            </button>
            <button class="fav-btn" id="modalFavBtn" onclick="toggleFavorite()">
                <i class="fas fa-heart"></i> Add to Favorites
            </button>
        </div>
    </div>
</div>

<!-- Toast Notification -->
<div class="toast" id="toast">
    <i class="fas fa-check-circle"></i>
    <span id="toastMessage">Action completed successfully!</span>
</div>

<footer>
    &copy; 2025 Shia Lyrics App. All rights reserved.
</footer>

<script>
// Enhanced lyrics database with more realistic content
const lyricsData = [
    { 
        id: 1, 
        title: "Ya Hussain", 
        reciter: "Nadeem Sarwar", 
        type: "Nauha", 
        tags: ["Ashura", "Karbala", "Hussain"], 
        lyrics: "Ya Hussain, Ya Hussain\nHar zaban pe tera naam hai\nYa Hussain, Ya Hussain\nHar zaban pe tera naam hai\n\nDuniya ke har ik kooney mein\nTeri sada aati hai\nHar ik aankh se aansoo bankar\nTu hi to jhaankta hai", 
        date: "2023-08-15",
        favorites: 1250
    },
    { 
        id: 2, 
        title: "Hussain Ki Beti", 
        reciter: "Syed Ali Abbas", 
        type: "Marsiya", 
        tags: ["Sakina", "Karbala", "Hussain"], 
        lyrics: "Hussain ki beti ne jab dekha\nBaba ka lahu luhan sar\nTo pukari aye amma\nKahan gaye mere baba\n\nKarbala ki garmi mein\nPyaasi thi wo choti si bachi\nPani maanga to yazeed ne\nDiya zehr zada pani", 
        date: "2023-09-01",
        favorites: 890
    },
    { 
        id: 3, 
        title: "Madine Ki Galiyan", 
        reciter: "Mir Hasan", 
        type: "Manqabat", 
        tags: ["Madina", "Prophet", "Ziyarat"], 
        lyrics: "Madine ki galiyan chhoo kar\nDil ko behlaana aaya hoon\nMohammed ke dar pe sar jhuka kar\nApni jaan lutaana aaya hoon\n\nYa Rasool Allah, Ya Habib Allah\nTeri gali mein aaya hoon\nTere dar pe jhuka sar mera\nTujhse milne aaya hoon", 
        date: "2023-07-20",
        favorites: 1560
    },
    { 
        id: 4, 
        title: "Abbas Alamdar", 
        reciter: "Nadeem Sarwar", 
        type: "Nauha", 
        tags: ["Abbas", "Alamdar", "Karbala"], 
        lyrics: "Abbas Alamdar, sher-e-Haider\nTeri shaan hai be-misaal\nTune Furat se pani la kar\nSakina ko diya hai pila\n\nBhai ki mohabbat mein tune\nApne haath karvaye the\nFurat ke kinare par\nSajde mein sar jhukaye the", 
        date: "2023-08-10",
        favorites: 1120
    },
    { 
        id: 5, 
        title: "Zainab Ki Dua", 
        reciter: "Syeda Binte Ali", 
        type: "Marsiya", 
        tags: ["Zainab", "Dua", "Karbala"], 
        lyrics: "Zainab ki dua hai, maula sun le\nTere dar pe aayi hoon, maula sun le\nBhai ke bachon ki hai fariyad\nMaula inko apni amaan mein rakhna\n\nKarbala ki virasat hai yeh\nInko aage badhana hai\nHussain ki qurbani ka paigam\nDuniya tak pahunchana hai", 
        date: "2023-09-05",
        favorites: 740
    },
    { 
        id: 6, 
        title: "Ali Ali", 
        reciter: "Mir Hasan", 
        type: "Manqabat", 
        tags: ["Ali", "Mola", "Haider"], 
        lyrics: "Ali Ali, Mola Ali Ali\nHaider-e-Karrar, sher-e-Yazdan\nAli Ali, Mola Ali Ali\nTeri shaan hai be-misaal\n\nTujh bin har ibadat adhoori\nTujh bin har dua hai na-mukammal\nAli Ali, Mola Ali Ali\nDil mein base ho tum, har lamha", 
        date: "2023-07-15",
        favorites: 1980
    }
];

// State
let currentCategory = 'all';
let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
let currentLyricsItem = null;

// Initialize the app
function initApp() {
    renderLyrics(lyricsData);
    updateStats();
    updateFavoritesUI();
}

// Render lyrics cards
function renderLyrics(data) {
    const grid = document.getElementById('lyricsGrid');
    
    if (data.length === 0) {
        grid.innerHTML = '<div style="text-align: center; grid-column: 1/-1; padding: 40px; color: #dcdde1;">No lyrics found. Try a different search.</div>';
        return;
    }
    
    grid.innerHTML = '';
    data.forEach(item => {
        const isFav = favorites.includes(item.id);
        const card = document.createElement('div');
        card.className = 'lyrics-card';
        card.innerHTML = `
            <div class="lyrics-title">
                ${item.title}
                <i class="fas fa-heart favorite-icon ${isFav ? 'active' : ''}" onclick="event.stopPropagation(); toggleFavorite(${item.id})"></i>
            </div>
            <div class="lyrics-snippet">${item.lyrics.substring(0, 100)}...</div>
            <div class="lyrics-meta">
                <span><i class="fas fa-user"></i> ${item.reciter}</span>
                <span><i class="fas fa-tag"></i> ${item.type}</span>
            </div>
            <div class="lyrics-tags">
                ${item.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
            </div>
        `;
        card.onclick = () => openModal(item);
        grid.appendChild(card);
    });
}

// Update statistics
function updateStats() {
    document.getElementById('totalLyrics').textContent = lyricsData.length;
    document.getElementById('favoritesCount').textContent = favorites.length;
    document.getElementById('nauhaCount').textContent = lyricsData.filter(l => l.type === 'Nauha').length;
    document.getElementById('marsiyaCount').textContent = lyricsData.filter(l => l.type === 'Marsiya').length;
}

// Update favorites UI
function updateFavoritesUI() {
    // Update all favorite icons
    document.querySelectorAll('.favorite-icon').forEach(icon => {
        const id = parseInt(icon.closest('.lyrics-card').querySelector('.favorite-icon').getAttribute('onclick').match(/\d+/)[0]);
        if (favorites.includes(id)) {
            icon.classList.add('active');
        } else {
            icon.classList.remove('active');
        }
    });
}

// Filter category
function filterCategory(category) {
    currentCategory = category;
    document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
    
    // Show loading
    document.getElementById('loadingIndicator').style.display = 'block';
    
    setTimeout(() => {
        let filtered;
        if (category === 'all') {
            filtered = lyricsData;
        } else if (category === 'favorites') {
            filtered = lyricsData.filter(l => favorites.includes(l.id));
        } else {
            filtered = lyricsData.filter(l => l.type.toLowerCase() === category.toLowerCase());
        }
        
        renderLyrics(filtered);
        document.getElementById('loadingIndicator').style.display = 'none';
    }, 500);
}

// Open modal
function openModal(item) {
    currentLyricsItem = item;
    const isFav = favorites.includes(item.id);
    
    document.getElementById('modalTitle').textContent = item.title;
    document.getElementById('modalReciter').textContent = item.reciter;
    document.getElementById('modalType').textContent = item.type;
    document.getElementById('modalDate').textContent = new Date(item.date).toLocaleDateString();
    document.getElementById('modalLyrics').textContent = item.lyrics;
    
    // Update tags
    const tagsContainer = document.getElementById('modalTags');
    tagsContainer.innerHTML = '';
    item.tags.forEach(tag => {
        const tagElement = document.createElement('span');
        tagElement.className = 'tag';
        tagElement.textContent = tag;
        tagsContainer.appendChild(tagElement);
    });
    
    // Update favorite button
    const favBtn = document.getElementById('modalFavBtn');
    if (isFav) {
        favBtn.innerHTML = '<i class="fas fa-heart"></i> Remove from Favorites';
    } else {
        favBtn.innerHTML = '<i class="fas fa-heart"></i> Add to Favorites';
    }
    
    document.getElementById('lyricsModal').style.display = 'flex';
}

// Close modal
function closeModal() { 
    document.getElementById('lyricsModal').style.display = 'none'; 
}

// Toggle favorite
function toggleFavorite(id = null) {
    const itemId = id || currentLyricsItem.id;
    const index = favorites.indexOf(itemId);
    
    if (index > -1) {
        favorites.splice(index, 1);
        showToast('Removed from favorites');
    } else {
        favorites.push(itemId);
        showToast('Added to favorites');
    }
    
    // Save to localStorage
    localStorage.setItem('favorites', JSON.stringify(favorites));
    
    // Update UI
    updateStats();
    updateFavoritesUI();
    
    // Update modal button if open
    if (currentLyricsItem && currentLyricsItem.id === itemId) {
        const favBtn = document.getElementById('modalFavBtn');
        if (favorites.includes(itemId)) {
            favBtn.innerHTML = '<i class="fas fa-heart"></i> Remove from Favorites';
        } else {
            favBtn.innerHTML = '<i class="fas fa-heart"></i> Add to Favorites';
        }
    }
    
    // If we're on the favorites tab, refresh the view
    if (currentCategory === 'favorites') {
        filterCategory('favorites');
    }
}

// Copy lyrics to clipboard
function copyLyrics() {
    const lyrics = document.getElementById('modalLyrics').textContent;
    navigator.clipboard.writeText(lyrics)
        .then(() => showToast('Lyrics copied to clipboard!'))
        .catch(err => showToast('Failed to copy lyrics'));
}

// Share lyrics
function shareLyrics() {
    const title = document.getElementById('modalTitle').textContent;
    const reciter = document.getElementById('modalReciter').textContent;
    const lyrics = document.getElementById('modalLyrics').textContent;
    
    const shareText = `${title} by ${reciter}\n\n${lyrics.substring(0, 100)}...`;
    
    if (navigator.share) {
        navigator.share({
            title: title,
            text: shareText,
            url: window.location.href
        })
        .then(() => showToast('Lyrics shared successfully!'))
        .catch(err => console.log('Error sharing:', err));
    } else {
        // Fallback for browsers that don't support Web Share API
        copyLyrics();
    }
}

// Search lyrics
function searchLyrics() {
    const query = document.getElementById('searchInput').value.toLowerCase().trim();
    
    if (!query) {
        renderLyrics(lyricsData);
        return;
    }
    
    const results = lyricsData.filter(l => 
        l.title.toLowerCase().includes(query) || 
        l.reciter.toLowerCase().includes(query) || 
        l.tags.some(tag => tag.toLowerCase().includes(query)) ||
        l.lyrics.toLowerCase().includes(query)
    );
    
    renderLyrics(results);
}

// Show toast notification
function showToast(message) {
    const toast = document.getElementById('toast');
    const toastMessage = document.getElementById('toastMessage');
    
    toastMessage.textContent = message;
    toast.classList.add('show');
    
    setTimeout(() => {
        toast.classList.remove('show');
    }, 3000);
}

// Initialize the app when page loads
document.addEventListener('DOMContentLoaded', initApp);

// Allow searching with Enter key
document.getElementById('searchInput').addEventListener('keyup', function(event) {
    if (event.key === 'Enter') {
        searchLyrics();
    }
});
</script>

</body>
</html>
